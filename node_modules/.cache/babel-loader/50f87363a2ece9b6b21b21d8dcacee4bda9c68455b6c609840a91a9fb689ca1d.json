{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hikmatboy\\\\real loyiha\\\\Archive\\\\src\\\\components\\\\Modalvisibility\\\\Modals\\\\Confirm\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { Input, Modal, Form, notification } from \"antd\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setConfirmModal } from \"../../../../redux/ModalSlice\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { useSignIn } from \"react-auth-kit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Confrim = () => {\n  _s();\n  const {\n    confirmModal\n  } = useSelector(state => state.modal);\n  const signIn = useSignIn();\n  const [isLoading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const onFinish = async e => {\n    setLoading(true);\n    try {\n      const {\n        data: {\n          data\n        }\n      } = await axios({\n        url: \"https://api.babm.uz/auth/confirm-email\",\n        method: \"POST\",\n        data: e\n      });\n      console.log(data);\n      localStorage.setItem(\"token\", data.token);\n      signIn({\n        token: data.token,\n        expiresIn: 3600,\n        tokenType: \"Bearer\",\n        authState: data.user\n      });\n      dispatch(setConfirmModal());\n    } catch (error) {\n      notification.error({\n        message: \"Kod xato\"\n      });\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: confirmModal,\n    onCancel: () => dispatch(setConfirmModal()),\n    footer: false,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-auto w-4/5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm  mt-8 font-normal\",\n        children: [\" \", \"Emailginzdagi kodni kiriting.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"code\",\n          rules: [{\n            required: true,\n            message: \"Kodni kiriting.\"\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            className: \"h-10  mt-3 border border-[#46A358]\",\n            placeholder: \"Kod\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-[#1677FF] flex rounded-md items-center justify-center gap-1 text-base text-white w-full h-11 my-7\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(LoadingOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 20\n          }, this) : \"Tasdiqlash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n};\n_s(Confrim, \"NNhS1ii/RAofgZhtRNOYLPTks3g=\", false, function () {\n  return [useSelector, useSignIn, useDispatch];\n});\n_c = Confrim;\nexport default Confrim;\nvar _c;\n$RefreshReg$(_c, \"Confrim\");","map":{"version":3,"names":["Input","Modal","Form","notification","useState","useDispatch","useSelector","setConfirmModal","LoadingOutlined","axios","useSignIn","jsxDEV","_jsxDEV","Confrim","_s","confirmModal","state","modal","signIn","isLoading","setLoading","dispatch","onFinish","e","data","url","method","console","log","localStorage","setItem","token","expiresIn","tokenType","authState","user","error","message","open","onCancel","footer","children","className","fileName","_jsxFileName","lineNumber","columnNumber","Item","name","rules","required","placeholder","type","_c","$RefreshReg$"],"sources":["D:/Hikmatboy/real loyiha/Archive/src/components/Modalvisibility/Modals/Confirm/index.tsx"],"sourcesContent":["import { Input, Modal, Form, notification } from \"antd\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setConfirmModal } from \"../../../../redux/ModalSlice\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\nimport { useSignIn } from \"react-auth-kit\";\n\nconst Confrim = () => {\n\tconst { confirmModal } = useSelector((state: any) => state.modal);\n\tconst signIn = useSignIn();\n\tconst [isLoading, setLoading] = useState<boolean>(false);\n\tconst dispatch = useDispatch();\n\n\tconst onFinish = async (e: any) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst {\n\t\t\t\tdata: { data },\n\t\t\t} = await axios({\n\t\t\t\turl: \"https://api.babm.uz/auth/confirm-email\",\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: e,\n\t\t\t});\n\n\t\t\tconsole.log(data);\n\t\t\tlocalStorage.setItem(\"token\", data.token);\n\n\t\t\tsignIn({\n\t\t\t\ttoken: data.token,\n\t\t\t\texpiresIn: 3600,\n\t\t\t\ttokenType: \"Bearer\",\n\t\t\t\tauthState: data.user,\n\t\t\t});\n\n\t\t\tdispatch(setConfirmModal());\n\t\t} catch (error) {\n\t\t\tnotification.error({\n\t\t\t\tmessage: \"Kod xato\",\n\t\t\t});\n\t\t}\n\n\t\tsetLoading(false);\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\topen={confirmModal}\n\t\t\tonCancel={() => dispatch(setConfirmModal())}\n\t\t\tfooter={false}\n\t\t>\n\t\t\t<div className=\"m-auto w-4/5\">\n\t\t\t\t<h3 className=\"text-sm  mt-8 font-normal\">\n\t\t\t\t\t{\" \"}\n\t\t\t\t\tEmailginzdagi kodni kiriting.\n\t\t\t\t</h3>\n\t\t\t\t<Form onFinish={onFinish}>\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tname=\"code\"\n\t\t\t\t\t\trules={[{ required: true, message: \"Kodni kiriting.\" }]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tclassName=\"h-10  mt-3 border border-[#46A358]\"\n\t\t\t\t\t\t\tplaceholder=\"Kod\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"bg-[#1677FF] flex rounded-md items-center justify-center gap-1 text-base text-white w-full h-11 my-7\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{isLoading ? <LoadingOutlined /> : \"Tasdiqlash\"}\n\t\t\t\t\t</button>\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default Confrim;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}